<div class="page-header">
	<h1>
		Add <small> <i class="ace-icon fa fa-angle-double-right"></i>
			Edit a Patient Related
		</small>
	</h1>
</div>

<div class="row">
	<div class="col-xs-12">
		<!-- Button for view -->
		<a class="btn btn-xs btn-primary" th:href="@{/patients/index/all}"><i
			class="fa fa-list"></i> All Patients</a>
	</div>
</div>

<div class="hr hr-18 dotted hr-double"></div>
<div class="row">
	<div class="col-xs-12">
		<!-- View contents here -->

			<form role="form" class="form-horizontal" method="POST"
						th:object="${relatedForm}"   onsubmit="return myrelated()">

						<div class="form-group">
							<label for="detail"
								class="col-sm-3 control-label no-padding-right">Related Patient:
								</label>
							<div class="col-sm-9">
							<input type="text" class="col-xs-10 col-sm-5"  	placeholder="Related Name" 
									  id="relatedname"   required="required" disabled="disabled"  th:attr="value = ${relatedname}" />  
									  
								<input type="text" class="col-xs-5 col-sm-5"  placeholder="Related Item" 
									th:field="*{relPatientId}"  hidden="hidden" />  
							 
			<a	class="btn btn-xs btn-success" onclick ="myOpenrelatedwin()"> <i	class="glyphicon glyphicon-list"></i> Search</a>
								
								<!--  </div>   -->	
								 <span class="text-danger"
									th:if="${#fields.hasErrors('relPatientId')}" th:errors="relPatientId"></span>

							</div> 
						</div>
						<div class="form-group">
							<label for="detail"
								class="col-sm-3 control-label no-padding-right">Relationship Type:
								</label>
							<div class="col-sm-9">
								<select th:field="*{relationshiptypeId}" id="relationshiptypeId"
									class="col-xs-10 col-sm-5">
								<!-- 	<option value="0">Select</option>  -->
									<option th:each="p : ${relationshiptypelist}" th:value="${p.relationshiptypeId}"
										th:text="${p.name}"></option>
								</select> <span class="text-danger"
									th:if="${#fields.hasErrors('relationshiptypeId')}" th:errors="relationshiptypeId"></span>

							</div> 
						</div>
						

						<div class="clearfix form-actions">
							<div class="col-md-offset-3 col-md-9">
								<input  type="hidden" th:field="*{patientId}" />
								<button class="btn btn-primary" type="submit">
									<i class="ace-icon fa fa-check bigger-110"></i> Update
								</button>

								<button class="btn btn-danger" type="reset">
									<i class="ace-icon fa fa-undo bigger-110"></i> Reset
								</button>
							</div>
						</div>
					</form>

	</div>
</div>


<script>

	function myOpenrelatedwin() {
	   var myWindow = window.open("/EMR/search/patientsearchwin", "MsgWindow", "width=550, height=600");
	  //  myWindow.document.write("<p>This window's name is: " + myWindow.name + "</p>");
	    myWindow.focus();
	    return false
	  
	}

	function myrelated()
	{
		
		if ( $('#relatedname').val()=='' )
			
			{
			
			alert("Related Name cannot be empty");
			return false;	
			}
		
		
		
	}

</script>