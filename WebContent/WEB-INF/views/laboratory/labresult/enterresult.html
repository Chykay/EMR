<div class="page-header">
	<h1>
		LABORATORY <small> <i
			class="ace-icon fa fa-angle-double-right"></i> RESULT
		</small>
	</h1>
</div>

<div class="row">
	<div class="col-xs-12">
		<!-- Button for view -->
		<a class="btn btn-xs btn-info" th:href="@{/system}"><i
			class="fa fa-list-alt"></i> System Dashboard</a> 
			 <a
			class="btn btn-xs btn-info"
			th:href="@{/visits/labtestlist}"><i
			class="fa fa-list-alt"></i> LabTest List</a>
	</div>
</div>

<div class="space-2"></div>
<div class="space-2"></div>
<div class="space-2"></div>
<div class="space-2"></div>

<div class="row">
	<div class="col-xs-12">


		<ul class="nav nav-tabs" id="myTab">
			<li class="active"><a data-toggle="tab" href="#home"> <!-- <i class="green ace-icon fa fa-home bigger-120"></i> -->
					Details
			</a></li>

			<li><a data-toggle="tab" href="#test"> Test Result <!-- <span class="badge badge-danger">4</span> -->
			</a></li>

			<li><a data-toggle="tab" href="#profile"> Upload Documents <!-- <span class="badge badge-danger">4</span> -->
			</a></li>

		</ul>

		<div class="tab-content">
			<div id="home" class="tab-pane in active">

				<div class="row">
					<div class="col-xs-12">
						<!-- View contents here -->
						<!-- User Profile -->
						<div id="user-profile-2" class="user-profile">
							<div class="tabbable">

								<div class="tab-content no-border padding-24">
									<div id="home" class="tab-pane in active">
										<div class="row">

											<div class="col-xs-12 col-sm-9">

												<div class="">
													<h1>
														<i class="fa fa-flask"></i> Details <small> </small>
													</h1>
												</div>

												<div class="profile-info-row">
													<div class="profile-info-name">Test ID</div>

													<div class="profile-info-value">
														<span th:text="${lab.globalitem.itemId}">alexdoe</span>
													</div>
												</div>


												<div class="profile-info-row">
													<div class="profile-info-name">Category Name</div>

													<div class="profile-info-value">
														<span th:text="${lab.globalitem.globalItemCategory.categoryName}">alexdoe</span>
													</div>
												</div>

												<div class="profile-info-row">
													<div class="profile-info-name">Test Name</div>

													<div class="profile-info-value">
														<span th:text="${lab.globalitem.GlobalitemName}">alexdoe</span>
													</div>
												</div>

												<div class="profile-info-row">
													<div class="profile-info-name">Description</div>

													<div class="profile-info-value">
														<span th:text="${lab.globalitem.description}">alexdoe</span>
													</div>
												</div>



												<div class="hr hr-8 dotted"></div>

												<!-- /.col -->
											</div>
											<!-- /.row -->

											<div class="space-20"></div>
										</div>
										<!-- /#home -->
									</div>
								</div>
							</div>

							<!-- Profile Ends  -->
							<!-- End View contents here -->
						</div>
					</div>
				</div>

			</div>


			<div id="test" class="tab-pane">

				<div class="row">
					<div class="col-xs-12">
						<!-- View contents here -->
						<div class="table-header">Result</div>
						<!-- Dropzone -->
						
					<!-- 	<h3 th:inline="text"> 
						 Test ID: [[${lab.itemId}]]<small> <a
						th:href="@{/consultations/visits/view/{id} (id=${vst.id})}">view
						consultation</a></small> 
						</h3>
						<h3 th:inline="text">
						Visit ID: [[${vid}]] 
						
						<small> <a
						th:href="@{/consultations/visits/view/{id} (id=${vst.id})}">view
						consultation</a></small>
						</h3>   -->
						<form role ="form" class="form-horizontal" method="post" th:object="${lForm}"
						  th:action = "@{/laboratoryResult/saveresult}">
						
						<div class="form-group">
				<!-- <label for="name" class="col-sm-3 control-label no-padding-right">Test ID</label> -->
				<div class="col-sm-9">
					<input type="hidden" class="col-xs-10 col-sm-5" placeholder="" 
					width = "20px" readonly = "readonly" th:field = "*{consultation_prescribed_id}" /> 
					
				</div>
				
				
				
				
				</div>
				
							
					<div class="form-group">
	
	<label for="date-timepicker1" class="control-label col-xs-12 col-sm-5 no-padding-right">Done Date / Time </label>

													
	<div class="col-sm-5">
	
	<div class="input-group" >
	<input  type="text" id="datetimepicker1" class="form-control" th:field="*{donedate}"  required="required"/>
	
	<span class="input-group-addon">
	<i class="fa fa-clock-o bigger-110"></i>
	</span>
	
	</div>
	
	
	<span class="text-danger" th:if="${#fields.hasErrors('donedate')}" th:errors="donedate"></span>
	</div>

		</div>
				
						
						<table id="dTable"
							class="table table-striped table-bordered table-hover">
							<!-- Table heading -->
							<thead>
								<tr>
									<th>Result Name</th>
									<th hidden="hidden">Result Setup Id</th>
									<th>Minimum Value</th>
									<th>Maximum Value</th>
									
									<th>Main / Sub </th>
									
									
									<th>Value</th>
									<th>Measure</th>
									
									<!-- <th>Type</th>
											<th>Uploaded Date</th> -->
									<!-- <th><i class="glyphicon glyphicon-asterisk"></i></th> -->
								</tr>
							</thead>
							<!-- // Table heading END -->
							<!-- Table body -->
							<tbody>
								<tr th:each="procedure : ${labtestpro}">
									<td th:text="${procedure.result_name}"></td>
				<td hidden="hidden">
									<div class="form-group">
				<label for="name" class="col-sm-3 control-label no-padding-right"></label>
				<div class="col-sm-9">
					<input type="text" class="col-xs-10 col-sm-5" placeholder=""
						 name = "setupId" readonly = "readonly" th:value = "${procedure.setupId}"/> 
				</div>
				</div>
				</td>
				<td th:text="${procedure.minimum_value}"></td>
				<td th:text="${procedure.maximum_value}"></td>
				
									 <td th:text="${procedure.type}"></td> 
									<!-- <td
												th:text="${ #dates.format(doc.createdDate, 'MMM dd, yyyy HH:mm')}"></td> -->
									<!-- <td><a class="btn btn-xs btn-primary tooltips"
												title="view/download document"
												th:href="@{/customers/patients/documents/view/{id}/{docName} (id=${doc.id}, docName = ${doc.name}) }">
													<i class="fa fa-eye"></i>
											</a> <a class="btn btn-xs btn-danger tooltips"
												title="delete document"
												th:href="@{/customers/patients/documents/delete/{id} (id=${doc.id}) }">
													<i class="fa fa-trash-o"></i>
											</a></td> -->
		<td> 
			
					<input type="text"  style="width:180px" placeholder=""
						 name = "actual_value"  th:value = "${procedure.actual_value}"/> 
				
						
		</td>
	
	
			<td th:text="${procedure.measure}"></td>
		
	
		
											
								</tr>
							</tbody>
						</table>
			<div class="clearfix form-actions">
				<div class="col-md-offset-5 col-md-9">
					<input type="hidden" th:field="*{id}" />
					<button class="btn btn-primary" type="submit">
						<i class="ace-icon fa fa-check bigger-110"></i> Save
					</button>
				</div>
			</div>
		</form>
						
					</div>
					<!-- /.Dropzone -->
					<!-- /.col -->
				</div>
				<!-- /.row -->

			</div>


			

		


		<div id="profile" class="tab-pane">
			<div class="page-header">
				<h1>
					Documents<small> <i
						class="ace-icon fa fa-angle-double-right"></i> Upload
					</small>
				</h1>
			</div>

			
				

						<!-- View contents here -->
						<!-- User Profile -->
						
							

									
										<div class="row">
												
											<div class="col-xs-12">

												<div class="hr hr-18 dotted hr-double"></div>

												<div class="row">
													<div class="col-xs-12">
														<!-- View contents here -->
														<!-- User Profile -->
														<div id="user-profile-2" class="user-profile">
															<div class="tabbable">
															
																
																	<div id="document" class="tab-pane in active">
																		<div class="row">
																			<!--  Dropzone -->

																			<h1>Please drop documents</h1>
																			<form role ="form" class="form-horizontal" method="post" 
																				th:action="@{/laboratoryResult/savedocument}" enctype="multipart/form-data"
																				th:object="${ldForm}">
																				
																							
			                                                      			<div class="form-group">
			                                                            	<!-- <label for="name" class="col-sm-3 control-label no-padding-right">Test ID</label> -->
                                                             				<div class="col-sm-9">
	                                                        				<input type="hidden" class="col-xs-10 col-sm-5" placeholder="" 
                                                         					width = "20px" readonly = "readonly" th:field = "*{consultation_prescribed_id}" /> 
					
		                                                            		</div>
	                                                             			</div>
			
																				<!-- File Input -->
																				<div class="form-group">
																					<label for="surname"
																						class="col-sm-3 control-label no-padding-right">Select
																						file:</label>
																					<div class="col-sm-9">
																						<input type="file" class="col-xs-10 col-sm-5"
																							th:field="*{document}" required="required" /> <span
																							class="text-danger"
																							th:if="${#fields.hasErrors('document')}"
																							th:errors="*{document}"></span>
																					</div>
																				</div>
																					<div class="form-group">
									<label for="Description"
										class="col-sm-3 control-label no-padding-right">Description:</label>
									<div class="col-sm-9">
										<input type="text" class="col-xs-10 col-sm-5"
											th:field="*{description}" required="required" /> <span
											class="text-danger" th:if="${#fields.hasErrors('description')}"
											th:errors="*{description}"></span>
									</div>
								</div>
																				<!-- /.File Input -->






																				<div class="clearfix form-actions">
																					<div class="col-md-offset-5 col-md-9">
																						<input type="hidden" th:field="*{consultation_prescribed_id}" />
																						<button class="btn btn-primary" type="submit">
																							<i class="ace-icon fa fa-cloud-upload bigger-110"></i>
																							Upload
																						</button>
																					</div>
																				</div>
																			</form>
																			<!-- /.Dropzone -->
																			<!-- /.col -->
																		</div>
																		<!-- /.row -->

																		<div class="row">
																			<div class="col-xs-12">
																				<!-- View contents here -->
																				<div class="table-header">Result for patient</div>
																				<!-- Dropzone -->
																				<table id="dTabled"
																					class="table table-striped table-bordered table-hover">
																					<!-- Table heading -->
																					<thead>
																						<tr>
																							<th>Document Name</th>
																							<th>Description</th>
																							
																							<th>Type</th>
																							<th>Uploaded Date</th>
																							<th><i class="glyphicon glyphicon-asterisk"></i></th>
																						</tr>
																					</thead>
																					<!-- // Table heading END -->
																					<!-- Table body -->
																					<tbody>
																						<tr th:each="doc : ${lab.labtestdocument}">
																							<td th:text="${doc.name}"></td>
																							<td th:text="${doc.description}"></td>
																							
																							<td th:text="${doc.contentType}"></td>
																							<td
																								th:text="${doc.createdDate}"></td>
																							 <td><a class="btn btn-xs btn-primary tooltips"
												title="view/download document"
												th:href="@{/laboratoryResult/labdocuments/view/{id}/{docName} (id=${doc.id}, docName = ${doc.name}) }">
													<i class="fa fa-eye"></i>
											</a> <a class="btn btn-xs btn-danger tooltips"
												title="Edit document"
												th:href="@{/laboratoryResult/labdocuments/edit/{id} (id=${doc.id}) }">
													<i class="fa fa-edit"></i>
											</a>
											<a class="btn btn-xs btn-danger tooltips"
												title="delete document"
												th:href="@{/laboratoryResult/labdocuments/delete/{id} (id=${doc.id}) }">
													<i class="fa fa-trash-o"></i>
											</a></td> 
																						</tr>
																					</tbody>
																				</table>
																			</div>
																			<!-- /.Dropzone -->
																			<!-- /.col -->
																		</div>
																		<!-- /.row -->

																		<div class="space-20"></div>
																	</div>
																	<!-- /#home -->
																</div>
															</div>
														</div>
														<!-- Profile Ends  -->
														<!-- End View contents here -->
													</div>
												</div>

												<script>
													jQuery(function($) {
														var oTable1 = $(
																'#dTabled')
																.dataTable(
																		{
																			bAutoWidth : false,
																			"aoColumns" : [
																					{
																						"bSortable" : true
																					},
																					null,
																			null,
																					null,
																					{
																						"bSortable" : false
																					} ]

																		
																		});

													});
												</script>


												<div class="hr hr-8 dotted"></div>

												<!-- /.col -->
											</div>
											<!-- /.row -->

											<div class="space-20"></div> 
										
										<!-- /#home -->
									
								
					

							<!-- Profile Ends  -->
							<!-- End View contents here -->
						
					

		
			
			<div class="hr hr-18 dotted hr-double"></div>





			
		</div>
		
		</div>

	</div>


	<!-- /section:elements.tab.position -->
</div>


<script>
				jQuery(function($) {
					var oTable = $('#dTable').dataTable({
						bAutoWidth : false,
						"aoColumns" : [ {
							"bSortable" : true
						},  null, null, null,null,null, {
							"bSortable" : false
						} ]

					});

				});
				
				  $(function () {
				         $('#datetimepicker1').datetimepicker({
							autoclose : true,
							format: 'YYYY-MM-DD HH:mm',
							todayHighlight : true
						});
				     });
			</script> 
